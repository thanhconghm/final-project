let dictionary = [
  {
    "word": "crush",
    "definition": "NgÆ°á»i mÃ  báº¡n tháº§m thÃ­ch hoáº·c yÃªu Ä‘Æ¡n phÆ°Æ¡ng.",
    "example": "Tao cÃ³ crush má»›i trong lá»›p há»c thÃªm Ä‘Ã³."
  },
  {
    "word": "chill",
    "definition": "ThÆ° giÃ£n, thoáº£i mÃ¡i, khÃ´ng cÄƒng tháº³ng.",
    "example": "Cuá»‘i tuáº§n nÃ y Ä‘i chill khÃ´ng?"
  },
  {
    "word": "trendy",
    "definition": "Há»£p thá»i, báº¯t trend.",
    "example": "Bá»™ Ä‘á»“ nÃ y trendy ghÃª!"
  },
  {
    "word": "tá»± nhiÃªn nhÆ° Ä‘Ãºng rá»“i",
    "definition": "LÃ m Ä‘iá»u gÃ¬ Ä‘Ã³ ráº¥t tá»± tin dÃ¹ khÃ´ng há»£p lÃ½.",
    "example": "NÃ³ vÃ o lá»›p ngá»“i bÃ n giÃ¡o viÃªn, tá»± nhiÃªn nhÆ° Ä‘Ãºng rá»“i."
  },
  {
    "word": "toang",
    "definition": "Há»ng rá»“i, tháº¥t báº¡i rá»“i.",
    "example": "Äi muá»™n bá»‹ Ä‘iá»ƒm danh, toang tháº­t!"
  },
  {
    "word": "mlem mlem",
    "definition": "Chá»‰ hÃ nh Ä‘á»™ng liáº¿m mÃ´i, thÆ°á»ng dÃ¹ng khi tháº¥y thá»© gÃ¬ Ä‘Ã³ ngon hay háº¥p dáº«n.",
    "example": "CÃ¡i bÃ¡nh nÃ y nhÃ¬n mlem mlem ghÃª."
  },
  {
    "word": "xá»‰u up xá»‰u down",
    "definition": "QuÃ¡ ngáº¡c nhiÃªn hoáº·c sá»‘c.",
    "example": "NhÃ¬n báº£ng Ä‘iá»ƒm mÃ  xá»‰u up xá»‰u down."
  },
  {
    "word": "cute phÃ´ mai que",
    "definition": "Dá»… thÆ°Æ¡ng má»™t cÃ¡ch Ä‘Ã¡ng yÃªu, ngá»t ngÃ o.",
    "example": "Con mÃ¨o Ä‘Ã³ cute phÃ´ mai que luÃ´n!"
  },
  {
    "word": "dá»—i",
    "definition": "Giáº­n dá»—i má»™t cÃ¡ch dá»… thÆ°Æ¡ng.",
    "example": "KhÃ´ng nháº¯n tin lÃ  dá»—i Ä‘Ã³ nha!"
  },
  {
    "word": "quáº¡o",
    "definition": "Tá»©c giáº­n, khÃ³ chá»‹u.",
    "example": "SÃ¡ng nay bá»‹ káº¹t xe quáº¡o quÃ¡ trá»i!"
  },
  {
    "word": "áº£o ma Canada",
    "definition": "Chá»‰ Ä‘iá»u gÃ¬ Ä‘Ã³ ká»³ láº¡, khÃ³ tin.",
    "example": "CÃ¡i Ä‘á» kiá»ƒm tra nÃ y áº£o ma Canada tháº­t sá»±."
  },
  {
    "word": "nghiá»‡p quáº­t",
    "definition": "Khi ai Ä‘Ã³ nháº­n láº¡i háº­u quáº£ vÃ¬ hÃ nh Ä‘á»™ng cá»§a mÃ¬nh.",
    "example": "ChÃª ngÆ°á»i ta Ä‘iá»ƒm tháº¥p, giá» bá»‹ nghiá»‡p quáº­t rá»“i nha."
  },
  {
    "word": "bay mÃ u",
    "definition": "Biáº¿n máº¥t, máº¥t tÃ­ch, bá»‹ xÃ³a.",
    "example": "CÃ¡i video Ä‘Ã³ bá»‹ bay mÃ u rá»“i."
  },
  {
    "word": "flex",
    "definition": "Khoe khoang.",
    "example": "NÃ³ vá»«a mua iPhone má»›i, lÃªn máº¡ng flex liá»n."
  },
  {
    "word": "xá»‹n xÃ²",
    "definition": "Cháº¥t lÆ°á»£ng, sang cháº£nh.",
    "example": "CÃ¡i laptop nÃ y xá»‹n xÃ² dá»¯!"
  },
  {
    "word": "máº·n mÃ ",
    "definition": "HÃ i hÆ°á»›c, cÃ³ duyÃªn.",
    "example": "Con nhá» Ä‘Ã³ nÃ³i chuyá»‡n máº·n mÃ  ghÃª!"
  },
  {
    "word": "Ä‘u trend",
    "definition": "Theo trÃ o lÆ°u Ä‘ang hot.",
    "example": "Tiktok nÃ y Ä‘u trend hÆ¡i bá»‹ nhanh."
  },
  {
    "word": "tráº§m cáº£m level max",
    "definition": "Cáº£m tháº¥y ráº¥t buá»“n bÃ£, tháº¥t vá»ng.",
    "example": "Äiá»ƒm kiá»ƒm tra tháº¥p, tráº§m cáº£m level max luÃ´n."
  },
  {
    "word": "ngÆ°á»i chÆ¡i há»‡",
    "definition": "Thuáº­t ngá»¯ hÃ i hÆ°á»›c chá»‰ sá»Ÿ thÃ­ch, phong cÃ¡ch nÃ o Ä‘Ã³.",
    "example": "TÃ´i lÃ  ngÆ°á»i chÆ¡i há»‡ minimalism."
  },
  {
    "word": "cháº±m Zn",
    "definition": "CÃ¡ch nÃ³i chÆ¡i chá»¯ Ã¡m chá»‰ má»™t ngÆ°á»i nghiÃªm tÃºc, khÃ³ tÃ­nh (cháº±m Zn = tráº§m zin = tráº§m tÃ­nh).",
    "example": "HÃ´m nay ai lÃ m gÃ¬ mÃ  cháº±m Zn dá»¯ váº­y?"
  },
  {
    "word": "say xá»‰n",
    "definition": "Say rÆ°á»£u.",
    "example": "NÃ³ Ä‘i nháº­u vá» say xá»‰n luÃ´n."
  },
  {
    "word": "hÃ´ng bÃ© Æ¡i",
    "definition": "Tá»« chá»‘i nháº¹ nhÃ ng.",
    "example": "MÆ°á»£n tiá»n ná»¯a háº£? HÃ´ng bÃ© Æ¡i!"
  },
  {
    "word": "chÃ¡n nhÆ° con giÃ¡n",
    "definition": "Ráº¥t buá»“n chÃ¡n.",
    "example": "á» nhÃ  cáº£ ngÃ y, chÃ¡n nhÆ° con giÃ¡n."
  },
  {
    "word": "gÃ£y kÃ¨o",
    "definition": "KhÃ´ng thá»±c hiá»‡n Ä‘Æ°á»£c káº¿ hoáº¡ch Ä‘Ã£ Ä‘á»‹nh.",
    "example": "Tá»‘i nay Ä‘á»‹nh Ä‘i xem phim mÃ  gÃ£y kÃ¨o rá»“i."
  },
  {
    "word": "xin vÃ­a",
    "definition": "Xin váº­n may tá»« ngÆ°á»i khÃ¡c.",
    "example": "Thi tá»‘t nha, xin vÃ­a Ä‘áº­u bÃ i vá»›i!"
  },
  {
    "word": "trÃ¹m cuá»‘i",
    "definition": "NgÆ°á»i máº¡nh nháº¥t, giá»i nháº¥t trong nhÃ³m.",
    "example": "Thi toÃ¡n gáº·p trÃ¹m cuá»‘i lá»›p luÃ´n."
  },
  {
    "word": "háº¿t nÆ°á»›c cháº¥m",
    "definition": "QuÃ¡ Ä‘á»‰nh, khÃ´ng cÃ³ gÃ¬ Ä‘á»ƒ chÃª.",
    "example": "MÃ³n nÃ y ngon háº¿t nÆ°á»›c cháº¥m luÃ´n!"
  },
  {
    "word": "máº¥t hÃ¬nh",
    "definition": "Máº¥t phong Ä‘á»™, máº¥t hÃ¬nh tÆ°á»£ng.",
    "example": "Ngá»§ gá»¥c trong lá»›p, máº¥t hÃ¬nh rá»“i cÃ²n Ä‘Ã¢u!"
  },
  {
    "word": "táº¥u hÃ i",
    "definition": "HÃ nh Ä‘á»™ng hÃ i hÆ°á»›c má»™t cÃ¡ch vÃ´ tÃ¬nh hoáº·c cá»‘ Ã½.",
    "example": "NÃ³ bÆ°á»›c lÃªn sÃ¢n kháº¥u táº¥u hÃ i ngay láº­p tá»©c."
  },
  {
    "word": "lÆ°Æ¡n láº¹o",
    "definition": "KhÃ´ng trung thá»±c, khÃ©o lÃ©o trÃ¡nh nÃ© trÃ¡ch nhiá»‡m.",
    "example": "LÃ m sai mÃ  toÃ n lÆ°Æ¡n láº¹o khÃ´ng Ã ."
  }
];

// function loadDataFromJSON() {
//   fetch('slang_dictionary.json')
//     .then(Response => Response.json())
//     .then(data => {
//       console.log(data)
//       dictionary = data;
//       renderData();
//     })
//     .catch(error => {
//       console.error('Lá»—i khi táº£i dá»¯ liá»‡u tá»« slang_dictionary.json:', error);
//       dictionary = [];
//       renderData();
//     })
// }

    function renderData() {
      const container = document.querySelector('.word-list');
      container.innerHTML = '';

      dictionary.forEach((item, index) => {
        const wordItem = document.createElement('div');
        wordItem.classList.add('word-item');

        wordItem.innerHTML = `
          <strong>${item.word}</strong>
          <p class="definition">ğŸ“– ${item.definition}</p>
          <p class="example">ğŸ’¬ VÃ­ dá»¥: "${item.example}"</p>
          <div class="actions">
            <button class="edit">âœï¸ Sá»­a</button>
            <button class="delete">ğŸ—‘ï¸ XÃ³a</button>
          </div>
        `;

        wordItem.querySelector('.edit').addEventListener('click', () => editWord(index));
        wordItem.querySelector('.delete').addEventListener('click', () => deleteWord(index));

        container.appendChild(wordItem);
      });
    }
    renderData();

    function editWord(index) {
      const item = dictionary[index];
      document.getElementById('wordInput').value = item.word;
      document.getElementById('definitionInput').value = item.definition;
      document.getElementById('exampleInput').value = item.example;
      document.getElementById('editIndex').value = index;
    }

    function deleteWord(index) {
      if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a tá»« nÃ y?")) {
        dictionary.splice(index, 1);
        saveToLocalStorage();
        renderData();
      }
    }

    document.getElementById('wordForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const word = document.getElementById('wordInput').value.trim();
      const definition = document.getElementById('definitionInput').value.trim();
      const example = document.getElementById('exampleInput').value.trim();
      const editIndex = document.getElementById('editIndex').value;

      const newEntry = { word, definition, example };

      if (editIndex === '') {
        dictionary.push(newEntry);
      } else {
        dictionary[editIndex] = newEntry;
      }

      this.reset();
  document.getElementById('editIndex').value = '';
  renderData();
});

document.addEventListener("DOMContentLoaded", () => {
  const userDisplay = document.getElementById("usernameDisplay");
  const logoutBtn = document.getElementById("logoutBtn");

  // Simulate user login check (replace with real auth logic as needed)
  const currentUser = JSON.parse(localStorage.getItem("currentUser"));
  console.log(currentUser)
if (currentUser) {
  document.getElementById("usernameDisplay").textContent = `ğŸ‘‹ Xin chÃ o, ${currentUser.username}`;
  document.getElementById("logoutBtn").style.display = "inline-block";
} 
else {
  document.getElementById("usernameDisplay").textContent = "ğŸ‘¤ Báº¡n chÆ°a Ä‘Äƒng nháº­p";
}


  // Logout button functionality
  logoutBtn.addEventListener("click", () => {
    if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t?")) {
      localStorage.removeItem("currentUser");
      location.href = "../page/login.html"; // redirect back to login
    }
  });
});

// window.addEventListener('DOMContentLoaded', () => {
//   loadDataFromJSON(); // Load tá»« slang_dictionary.json khi trang khá»Ÿi Ä‘á»™ng
// });